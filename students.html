<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="View and manage registered students at Study-Room">
  <title>Registered Students - Study-Room</title>
  <link rel="icon" type="image/png" href="assets/logo2.png">
  <script src="page-protection.js"></script>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/students.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <!-- Skip to content link for accessibility -->
  <a href="#main-content" class="skip-to-content">Skip to content</a>
  
  <!-- Header Section -->
  <header class="header" role="banner">
    <div class="header-content">
    <div class="logo-container">
      <img src="assets/logo1.png" alt="Study-Room Logo" class="logo">
      <span class="logo-text">Study-Room</span>
    </div>
    <nav class="nav-buttons" role="navigation" aria-label="Main Navigation">
        <a href="index.html">Home</a>
        <a href="registration.html">New Registration</a>
      <select id="filter-hall" onchange="filterStudents()" aria-label="Filter by hall">
          <option value="all">All Halls</option>
        <option value="hall1">Hall 1</option>
        <option value="hall2">Hall 2</option>
      </select>
    </nav>
    </div>
  </header>
  
  <!-- Students Table -->
  <main class="students-container" id="main-content" role="main">
    <h1>Registered Students</h1>

    <!-- Filters -->
    <section class="filter-container" aria-labelledby="filter-heading">
      <h2 id="filter-heading" class="visually-hidden">Filter Options</h2>
      <input type="text" id="search-bar" placeholder="Search by Name, Mobile No, Seat No, Email..." oninput="filterStudents()" aria-label="Search students">
      <select id="filter-month" onchange="filterStudents()" aria-label="Filter by month">
        <option value="">Filter by Month</option>
        <option value="January">January</option>
        <option value="February">February</option>
        <option value="March">March</option>
        <option value="April">April</option>
        <option value="May">May</option>
        <option value="June">June</option>
        <option value="July">July</option>
        <option value="August">August</option>
        <option value="September">September</option>
        <option value="October">October</option>
        <option value="November">November</option>
        <option value="December">December</option>
      </select>
      <select id="filter-seat-type" onchange="filterStudents()" aria-label="Filter by seat type">
        <option value="">Filter by Seat Type</option>
        <option value="fixed">Fixed</option>
        <option value="non-fixed">Non-Fixed</option>
      </select>
    </section>

    <!-- Toggle Button for Cumulative View -->
    <button id="toggle-cumulative" class="toggle-btn" aria-expanded="false" aria-controls="cumulative-container">
      <i class="fas fa-exchange-alt" aria-hidden="true"></i> Toggle Cumulative View
    </button>

    <!-- Normal Table View -->
    <section id="normal-view" aria-labelledby="table-heading">
      <h2 id="table-heading" class="visually-hidden">Student List</h2>
      <div class="table-container">
        <table aria-label="Registered Students" role="grid">
          <thead>
            <tr>
              <th scope="col">No.</th>
              <th scope="col">Name</th>
              <th scope="col">Mobile No.</th>
              <th scope="col">Hall No.</th>
              <th scope="col">Seat No.</th>
              <th scope="col">Registration Date</th>
              <th scope="col">Remaining Fees</th>
              <th scope="col">Seat Type</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody id="student-data">
            <!-- Students will be dynamically added here -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Cumulative View (Initially Hidden) -->
    <section id="cumulative-container" style="display:none;" aria-labelledby="cumulative-heading">
      <h2 id="cumulative-heading" class="visually-hidden">Cumulative Student View</h2>
      <!-- The cumulative student list will be dynamically inserted here -->
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <p>&copy; 2025 Study-Room. All rights reserved.</p>
  </footer>

  <script src="js/students.js"></script>
  <script src="https://cdn.socket.io/4.6.0/socket.io.min.js" integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+" crossorigin="anonymous"></script>
  <script src="js/adminAuth.js"></script>
</body>
</html>
